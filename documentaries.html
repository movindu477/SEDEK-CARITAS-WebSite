<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documentaries</title>
    <link rel="stylesheet" href="css/documentaries.css" />
    <link rel="stylesheet" href="css/index.css" />
    <script src="js/index.js" defer></script>

    <!-- NAVBAR -->
    <div class="navbar">
      <!-- Top section -->
      <div class="topsection">
        <div class="item">
          <img src="images/phone-call.png" alt="Call Icon" />
          <p>0094 11 2691885</p>
        </div>
        <div class="item">
          <img src="images/mail.png" alt="Email Icon" />
          <p>sedec@caritaslk.org</p>
        </div>
        <div class="language-selector">
          <button class="lang">à·ƒà·’à¶‚</button>
          <!-- Sinhala -->
          <button class="lang">à®¤</button>
          <!-- Tamil -->
          <button class="lang active">EN</button>
          <!-- English (active by default) -->
        </div>
      </div>

      <!-- Down section -->
      <div class="downsection">
        <div class="logos">
          <img src="images/logo2.png" alt="Logo" width="40" />
          <img src="images/logo3.png" alt="Logo" width="120" />
        </div>

        <!-- Mobile menu button -->
        <button
          class="mobile-menu-btn"
          id="mobileMenuBtn"
          aria-label="Open Menu"
          aria-controls="navMenu"
          aria-expanded="false"
        >
          <span></span><span></span><span></span>
        </button>

        <!-- Main Nav -->
        <ul id="navMenu" role="menubar">
          <button class="close-menu" id="closeMenu" aria-label="Close Menu">
            âœ•
          </button>

          <li><a href="index.html">Home</a></li>

          <!-- Who We Are Dropdown -->
          <li class="dropdown">
            <a
              href="aboutus.html"
              class="dropdown-toggle"
              aria-haspopup="true"
              aria-expanded="false"
              >Who We Are</a
            >
            <ul class="dropdown-menu" role="menu">
              <li><a href="aboutus.html">About Us</a></li>
              <li><a href="policies.html">Our Policies</a></li>
              <li><a href="pdf/CONSTITUION.pdf">Our Constitution</a></li>
              <li><a href="ourhistory.html">Our History</a></li>
              <li><a href="org.html">Org Structure</a></li>
              <li><a href="faculty.html">Facilities &amp; Services</a></li>
            </ul>
          </li>

          <!-- What We Do Dropdown -->
          <li class="dropdown">
            <a
              href="whatwedo.html"
              class="dropdown-toggle"
              aria-haspopup="true"
              aria-expanded="false"
            >
              What We Do
            </a>
            <ul class="dropdown-menu" role="menu">
              <!-- âœ… Always load whatwedo.html and jump to the correct section -->
              <li><a href="whatwedo.html#our-focus">Our Focus</a></li>
              <li><a href="projects.html">Projects</a></li>
              <li>
                <a href="whatwedo.html#guiding-prin">Guiding Principles</a>
              </li>
              <li><a href="whatwedo.html#Str-Prio">Strategic Priorities</a></li>
              <li>
                <a href="whatwedo.html#Intervention">Modes of Intervention</a>
              </li>
              <li><a href="whatwedo.html#Sec-Sep">Sector Specialization</a></li>
              <li><a href="strplan.html">Stratergic Plan</a></li>
            </ul>
          </li>

          <!-- News Dropdown -->
          <li class="dropdown">
            <a
              href="#"
              class="dropdown-toggle"
              aria-haspopup="true"
              aria-expanded="false"
              >News</a
            >
            <ul class="dropdown-menu" role="menu">
              <li><a href="AR.html">Annual Reports</a></li>
              <li><a href="documentaries.html">Documentaries</a></li>
              <li><a href="publications.html">Publications</a></li>
            </ul>
          </li>

          <li><a href="contact.html">Contact Us</a></li>
          <li class="highlight"><a href="donate.html">DONATE</a></li>
        </ul>
      </div>
    </div>
  </head>
  <body>
    <!-- HERO SECTION -->
    <section class="hero">
      <img src="images/doc.avif" alt="Hero Image" class="mainimg" />
      <div class="hero-text">
        <h1>Documentaries</h1>
      </div>
    </section>

    <!-- ===== Newsletters ===== -->
    <section class="archives-section">
      <h2 class="archives-title">NewsLetters</h2>

      <div class="archives-container">
        <!-- 2025 -->
        <div class="year-container">
          <div class="year-header" onclick="toggleYear(this)">2025</div>

          <ul class="months-list">
            <li
              onclick="downloadPDF('pdf/NL JUNE 2025.PDF', 'Newsletter June 2025')"
            >
              June 2025
            </li>
            <li
              onclick="downloadPDF('pdf/NL MAY 2025.pdf', 'Newsletter May 2025')"
            >
              May 2025
            </li>
            <li
              onclick="downloadPDF('pdf/NL APRIL 2025.pdf', 'Newsletter April 2025')"
            >
              April 2025
            </li>
            <li
              onclick="downloadPDF('pdf/NL March 2025.pdf', 'Newsletter March 2025')"
            >
              March 2025
            </li>
            <li
              onclick="downloadPDF('pdf/NL FEB 2025.pdf', 'Newsletter February 2025')"
            >
              February 2025
            </li>
            <li
              onclick="downloadPDF('pdf/NL Jan 2025.pdf', 'Newsletter January 2025')"
            >
              January 2025
            </li>
          </ul>
        </div>

        <!-- 2024 -->
        <div class="year-container">
          <div class="year-header" onclick="toggleYear(this)">2024</div>

          <ul class="months-list">
            <li
              onclick="downloadPDF('pdf/CSL NEWLETTER - April to March 2024.pdf', 'Newsletter April to March 2024')"
            >
              April - March 2024
            </li>
            <li
              onclick="downloadPDF('pdf/CSL Newsletter - May to August 2024.pdf', 'Newsletter May to August 2024')"
            >
              May - August 2024
            </li>
            <li
              onclick="downloadPDF('pdf/Newsletter - Sept to Dec. 2024.pdf', 'Newsletter September to December 2024')"
            >
              September - December 2024
            </li>
            <li
              onclick="downloadPDF('pdf/Newsletter (Jan - Apr 2024).pdf', 'Newsletter January to April 2024')"
            >
              January - April 2024
            </li>
          </ul>
        </div>

        <!-- 2022 -->
        <div class="year-container">
          <div class="year-header" onclick="toggleYear(this)">2022</div>

          <ul class="months-list">
            <li
              onclick="downloadPDF('pdf/Newsletter jan - mar 2022.pdf', 'Newsletter January to March 2022')"
            >
              January - March 2022
            </li>
          </ul>
        </div>

        <!-- 2021 -->
        <div class="year-container">
          <div class="year-header" onclick="toggleYear(this)">2021</div>

          <ul class="months-list">
            <li
              onclick="downloadPDF('pdf/Newsletter jan- june 2021.pdf', 'Newsletter January to June 2021')"
            >
              January - June 2021
            </li>
            <li
              onclick="downloadPDF('pdf/Newsletter july - dec 2021.pdf', 'Newsletter July to December 2021')"
            >
              July - December 2021
            </li>
          </ul>
        </div>
        <!-- Add more years similarly -->
      </div>
    </section>

    <!-- Download Progress Notification -->
    <div class="download-progress" id="downloadProgress">
      <i class="fa-solid fa-download"></i>
      <div>
        <span id="downloadMessage">Downloading...</span>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>
    </div>

    <script>
      function toggleYear(element) {
        const yearContainer = element.parentElement;
        const isOpen = yearContainer.classList.contains("open");

        // Close all other open years
        document
          .querySelectorAll(".year-container.open")
          .forEach((container) => {
            if (container !== yearContainer) {
              container.classList.remove("open");
            }
          });

        // Toggle current year
        yearContainer.classList.toggle("open");

        // Add smooth scrolling for better UX
        if (!isOpen) {
          setTimeout(() => {
            yearContainer.scrollIntoView({
              behavior: "smooth",
              block: "nearest",
            });
          }, 300);
        }
      }

      // Add click event for month items to handle navigation with loading state
      document.addEventListener("DOMContentLoaded", function () {
        const monthItems = document.querySelectorAll(".months-list li");

        monthItems.forEach((item) => {
          item.addEventListener("click", function (e) {
            const href = this.getAttribute("onclick");
            if (href && href.includes("window.location.href")) {
              // Extract URL from onclick attribute
              const url = href.match(/'([^']+)'/)[1];

              // Add loading state
              this.classList.add("navigating");

              // Navigate after a short delay for visual feedback
              setTimeout(() => {
                window.location.href = url;
              }, 300);

              e.preventDefault();
            }
          });
        });

        // Auto-open the current year (2025)
        const currentYear = document.querySelector(
          ".year-container:first-child"
        );
        if (currentYear) {
          setTimeout(() => {
            currentYear.classList.add("open");
          }, 1000);
        }
      });

      // Download PDF function
      function downloadPDF(pdfPath, reportName) {
        // Show download progress
        const downloadProgress = document.getElementById("downloadProgress");
        const downloadMessage = document.getElementById("downloadMessage");
        const progressFill = document.getElementById("progressFill");

        downloadMessage.textContent = `Downloading ${reportName}...`;
        downloadProgress.classList.add("show");

        // Simulate download progress
        let progress = 0;
        const interval = setInterval(() => {
          progress += Math.random() * 10;
          if (progress >= 100) {
            progress = 100;
            clearInterval(interval);

            // Update message when download is complete
            downloadMessage.textContent = `Downloaded ${reportName}!`;

            // Hide progress after completion
            setTimeout(() => {
              downloadProgress.classList.remove("show");
              // Reset progress bar
              setTimeout(() => {
                progressFill.style.width = "0%";
              }, 300);
            }, 1500);

            // Trigger actual file download
            triggerDownload(pdfPath, reportName);
          }
          progressFill.style.width = `${progress}%`;
        }, 200);
      }

      // Function to trigger actual file download
      function triggerDownload(pdfPath, fileName) {
        // Create a temporary anchor element
        const link = document.createElement("a");
        link.href = pdfPath;
        link.download = fileName + ".pdf";

        // Append to the document
        document.body.appendChild(link);

        // Trigger the download
        link.click();

        // Clean up
        document.body.removeChild(link);
      }

      // Alternative download method for browsers that block the above method
      function alternativeDownload(pdfPath, fileName) {
        // Open in new tab as fallback
        window.open(pdfPath, "_blank");
      }
    </script>

    <!-- Minimized Chatbot Button -->
    <div class="chatbot-minimized" id="chatbotMinimized">
      <div class="chatbot-icon">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C19.3944 16.7118 18.3098 17.8992 16.9674 18.7293C15.6251 19.5594 14.0782 19.9994 12.5 20C11.1801 20.0034 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00061 9.92179 4.44061 8.37488 5.27072 7.03258C6.10083 5.69028 7.28825 4.6056 8.7 3.90003C9.87812 3.30496 11.1801 2.99659 12.5 3.00003H13C15.0843 3.11502 17.053 3.99479 18.5291 5.47089C20.0052 6.94699 20.885 8.91568 21 11V11.5Z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
      <span class="chatbot-text">Need help?</span>
    </div>

    <!-- Expanded Chatbot Panel -->
    <div class="chatbot-expanded" id="chatbotExpanded">
      <div class="chatbot-header">
        <div class="header-left">
          <div class="chatbot-avatar">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C19.3944 16.7118 18.3098 17.8992 16.9674 18.7293C15.6251 19.5594 14.0782 19.9994 12.5 20C11.1801 20.0034 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00061 9.92179 4.44061 8.37488 5.27072 7.03258C6.10083 5.69028 7.28825 4.6056 8.7 3.90003C9.87812 3.30496 11.1801 2.99659 12.5 3.00003H13C15.0843 3.11502 17.053 3.99479 18.5291 5.47089C20.0052 6.94699 20.885 8.91568 21 11V11.5Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <div class="chatbot-info">
            <h3>AI Assistant</h3>
            <span class="status">Online</span>
          </div>
        </div>
        <button class="close-btn" id="closeChatbot">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18 6L6 18M6 6L18 18"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </button>
      </div>

      <div class="chatbot-body">
        <div class="message bot-message">
          <div class="message-avatar">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C19.3944 16.7118 18.3098 17.8992 16.9674 18.7293C15.6251 19.5594 14.0782 19.9994 12.5 20C11.1801 20.0034 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00061 9.92179 4.44061 8.37488 5.27072 7.03258C6.10083 5.69028 7.28825 4.6056 8.7 3.90003C9.87812 3.30496 11.1801 2.99659 12.5 3.00003H13C15.0843 3.11502 17.053 3.99479 18.5291 5.47089C20.0052 6.94699 20.885 8.91568 21 11V11.5Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <div class="message-content">
            <p>Hello there! ðŸ‘‹ How can I help you today?</p>
            <span class="message-time">12:00 PM</span>
          </div>
        </div>

        <div class="message bot-message">
          <div class="message-avatar">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C19.3944 16.7118 18.3098 17.8992 16.9674 18.7293C15.6251 19.5594 14.0782 19.9994 12.5 20C11.1801 20.0034 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00061 9.92179 4.44061 8.37488 5.27072 7.03258C6.10083 5.69028 7.28825 4.6056 8.7 3.90003C9.87812 3.30496 11.1801 2.99659 12.5 3.00003H13C15.0843 3.11502 17.053 3.99479 18.5291 5.47089C20.0052 6.94699 20.885 8.91568 21 11V11.5Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <div class="message-content">
            <p>I can assist you with:</p>
            <ul class="quick-options">
              <li>Product information</li>
              <li>Technical support</li>
              <li>Account questions</li>
              <li>General inquiries</li>
            </ul>
            <span class="message-time">12:01 PM</span>
          </div>
        </div>
      </div>

      <div class="chatbot-footer">
        <div class="input-container">
          <input
            type="text"
            placeholder="Type your message..."
            class="message-input"
          />
          <button class="send-btn">
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <script>
      // Chatbot functionality
      const chatbotMinimized = document.getElementById("chatbotMinimized");
      const chatbotExpanded = document.getElementById("chatbotExpanded");
      const closeChatbot = document.getElementById("closeChatbot");
      const messageInput = document.querySelector(".message-input");
      const sendBtn = document.querySelector(".send-btn");
      const chatBody = document.querySelector(".chatbot-body");

      // Toggle chatbot
      chatbotMinimized.addEventListener("click", () => {
        chatbotExpanded.classList.add("active");
      });

      closeChatbot.addEventListener("click", () => {
        chatbotExpanded.classList.remove("active");
      });

      // Send message function
      function sendMessage() {
        const message = messageInput.value.trim();
        if (message) {
          // Add user message
          addUserMessage(message);

          // Clear input
          messageInput.value = "";

          // Simulate bot response
          setTimeout(() => {
            addBotMessage(getBotResponse(message));
          }, 1000);
        }
      }

      // Add user message to chat
      function addUserMessage(text) {
        const messageDiv = document.createElement("div");
        messageDiv.className = "message user-message";
        messageDiv.innerHTML = `
        <div class="message-content">
            <p>${text}</p>
            <span class="message-time">${getCurrentTime()}</span>
        </div>
    `;
        chatBody.appendChild(messageDiv);
        scrollToBottom();
      }

      // Add bot message to chat
      function addBotMessage(text) {
        const messageDiv = document.createElement("div");
        messageDiv.className = "message bot-message";
        messageDiv.innerHTML = `
        <div class="message-avatar">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C19.3944 16.7118 18.3098 17.8992 16.9674 18.7293C15.6251 19.5594 14.0782 19.9994 12.5 20C11.1801 20.0034 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00061 9.92179 4.44061 8.37488 5.27072 7.03258C6.10083 5.69028 7.28825 4.6056 8.7 3.90003C9.87812 3.30496 11.1801 2.99659 12.5 3.00003H13C15.0843 3.11502 17.053 3.99479 18.5291 5.47089C20.0052 6.94699 20.885 8.91568 21 11V11.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
        <div class="message-content">
            <p>${text}</p>
            <span class="message-time">${getCurrentTime()}</span>
        </div>
    `;
        chatBody.appendChild(messageDiv);
        scrollToBottom();
      }

      // Get bot response based on user input
      function getBotResponse(input) {
        const lowerInput = input.toLowerCase();

        if (
          lowerInput.includes("hello") ||
          lowerInput.includes("hi") ||
          lowerInput.includes("hey")
        ) {
          return "Hello! Nice to meet you! How can I assist you today?";
        } else if (lowerInput.includes("help")) {
          return "I'm here to help! You can ask me about our services, pricing, technical support, or anything else you'd like to know.";
        } else if (
          lowerInput.includes("price") ||
          lowerInput.includes("cost")
        ) {
          return "Our pricing starts at $29/month for the basic plan. We also have professional and enterprise plans. Would you like more details?";
        } else if (lowerInput.includes("thank")) {
          return "You're welcome! Is there anything else I can help you with?";
        } else {
          return "Thanks for your message! I'm an AI assistant trained to help with general inquiries. For specific questions, our support team would be happy to assist you further.";
        }
      }

      // Get current time in HH:MM format
      function getCurrentTime() {
        const now = new Date();
        return now.toLocaleTimeString("en-US", {
          hour: "2-digit",
          minute: "2-digit",
          hour12: true,
        });
      }

      // Scroll chat to bottom
      function scrollToBottom() {
        chatBody.scrollTop = chatBody.scrollHeight;
      }

      // Event listeners
      sendBtn.addEventListener("click", sendMessage);
      messageInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          sendMessage();
        }
      });

      // Close chatbot when clicking outside
      document.addEventListener("click", (e) => {
        if (
          !chatbotExpanded.contains(e.target) &&
          !chatbotMinimized.contains(e.target) &&
          chatbotExpanded.classList.contains("active")
        ) {
          chatbotExpanded.classList.remove("active");
        }
      });

      // Add some initial bot messages when page loads
      window.addEventListener("load", () => {
        setTimeout(() => {
          addBotMessage(
            "Welcome! I'm your AI assistant. Feel free to ask me anything!"
          );
        }, 500);
      });
    </script>
  </body>

  <div class="footer">
    <div class="lesftpanel">
      <img class="logofooter" src="images/logo3.png" alt="The Logo" />
      <h1>Caritas<br /><span>SRI LANKA - SEDEC</span></h1>
      <p>
        Caritas Sri Lanka-SEDEC is the social arm of the Catholic Bishops'
        Conference of Sri Lanka and is affiliated to Caritas Internationalis,
      </p>
    </div>

    <div class="middlepanel">
      <h1>Quick Links</h1>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="aboutus.html">Who We Are</a></li>
        <li><a href="documentaries.html">Documentaries</a></li>
        <li><a href="publications.html">Publications</a></li>
        <li><a href="donate.html">Donate</a></li>
        <li><a href="contact.html">Contact Us</a></li>
      </ul>
    </div>

    <div class="rightpanel">
      <h1>Newsletter subscription</h1>
      <div class="newsletter">
        <input type="email" placeholder="Email Address" />
        <button>Subscribe</button>
      </div>

      <h1>Follow us</h1>
      <div class="social-icons">
        <a href="https://www.youtube.com/@caritassrilanka5709"
          ><img src="images/youtube.png" alt="YouTube Icon"
        /></a>
        <a
          href="https://www.instagram.com/caritas_sri_lanka?igsh=MWdlcGFzanhtb3A0&utm_source=qr"
          ><img src="images/instagram.png" alt="Instagram Icon"
        /></a>
        <a href="https://www.facebook.com/share/17ArcWYhqH/?mibextid=wwXIfr"
          ><img src="images/facebook.png" alt="Facebook Icon"
        /></a>
        <a href="http://www.linkedin.com/in/caritas-sri-lanka-SEDEC"
          ><img src="images/linkedin.png" alt="Linkedin Icon"
        /></a>
        <a
          href=" https://www.tiktok.com/@caritassrilankasedec?_t=ZS-90arFvva1pc&_r=1"
          ><img src="images/video.png" alt="Tiktok Icon"
        /></a>
      </div>

      <p>Call us: 0094 11 2691885</p>
      <br />
      <p>
        Visit us: Caritas Sri Lanka - SEDEC ,133, Kynsey Road, P.O box: 1681,
        Colombo 08, 00800 Sri Lanka
      </p>
    </div>

    <div class="underpanel">
      <p>Copyright Â© 2025 Caritas Sri Lanka - SEDEC. All right reserved.</p>
      <a href=""><p>Developed by: Ceylon Innovation Services (PVT) LTD</p></a>
    </div>
  </div>
</html>
